# Восстановление админ-панели

Если после выполнения `npm run build` пропала админ-панель, выполните следующие шаги:

## Быстрое восстановление

### Вариант 1: Использование скрипта (если файлы есть в репозитории)

```bash
npm run restore-admin
```

### Вариант 2: Ручное копирование

Если файлы админ-панели есть в репозитории в папке `public/admin/`, просто скопируйте их:

```bash
# Убедитесь, что вы в корне проекта
cd /var/www/lovi_moment228

# Проверьте, есть ли файлы в репозитории
ls -la public/admin/

# Если файлов нет, скопируйте их из локальной машины или восстановите из git
```

### Вариант 3: Восстановление из git

Если файлы админ-панели были закоммичены в git:

```bash
cd /var/www/lovi_moment228
git checkout HEAD -- public/admin/
```

### Вариант 4: Создание файлов вручную

Если файлы потеряны, создайте папку и базовые файлы:

```bash
mkdir -p public/admin
```

Затем скопируйте файлы `login.html`, `index.html` и `admin.js` из локальной версии проекта.

## Проверка

После восстановления проверьте:

```bash
ls -la public/admin/
# Должны быть файлы:
# - login.html
# - index.html  
# - admin.js
```

Затем перезапустите сервер:

```bash
pm2 restart lovi-moment
```

## Предотвращение проблемы в будущем

После обновления кода скрипт `build-static.js` теперь автоматически сохраняет и восстанавливает админ-панель при сборке. Убедитесь, что у вас последняя версия:

```bash
git pull origin main
npm run build
```

Админ-панель должна сохраниться автоматически.

